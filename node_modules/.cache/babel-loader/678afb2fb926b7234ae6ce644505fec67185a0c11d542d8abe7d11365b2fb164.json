{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  setup() {\n    const name = ref('');\n    const phoneNumber = ref('');\n    const address = ref('');\n    const extraAddress = ref('');\n    const router = useRouter();\n    onMounted(() => {\n      // 페이지가 로드될 때 로컬 스토리지에서 name, phoneNumber, address 셋팅\n      name.value = localStorage.getItem('savedName') || '';\n      phoneNumber.value = localStorage.getItem('savedPhoneNumber') || '';\n      address.value = localStorage.getItem('savedAddress') || '';\n      extraAddress.value = localStorage.getItem('savedExtraAddress') || '';\n    });\n    const isValidateName = computed(() => {\n      const nameRegex = /^[가-힣]{2,}|[a-zA-Z]{3,}$/;\n      return nameRegex.test(name.value);\n    });\n    const isValidatePhoneNumber = computed(() => {\n      const phoneRegex = /^0\\d{2,3}[ -]?\\d{3,4}[ -]?\\d{4}$/;\n      return phoneRegex.test(phoneNumber.value);\n    });\n    const isFormValid = computed(() => {\n      return name.value && phoneNumber.value && address.value && extraAddress.value && isValidatePhoneNumber.value;\n    });\n    const submitForm = () => {\n      if (isValidateName.value && isValidatePhoneNumber.value && address.value && extraAddress.value) {\n        localStorage.setItem('savedName', name.value);\n        localStorage.setItem('savedPhoneNumber', phoneNumber.value);\n        localStorage.setItem('savedAddress', address.value);\n        localStorage.setItem('savedExtraAddress', extraAddress.value);\n        console.log('폼이 제출되었습니다!');\n        // 다음 단계로 라우팅\n        router.push('/finalStep');\n      } else {\n        console.log('유효하지 않은 입력입니다.');\n      }\n    };\n    const daumPostcode = () => {\n      new window.daum.Postcode({\n        oncomplete: data => {\n          if (this.extraAddress !== '') {\n            this.extraAddress = '';\n          }\n          if (data.userSelectedType === 'R') {\n            // 도로명 주소를 선택했을 경우\n            this.address = data.roadAddress;\n          } else {\n            // 지번 주소를 선택했을 경우\n            this.address = data.jibunAddress;\n          }\n          if (data.userSelectedType === 'R') {\n            // 건물명이 있을 경우\n            if (data.buildingName !== '' && data.apartment === 'Y') {\n              this.extraAddress += this.extraAddress !== '' ? `, ${data.buildingName}` : data.buildingName;\n            }\n            // 표시할 참고항목이 있을 경우\n            if (this.extraAddress !== '') {\n              this.extraAddress = `(${this.extraAddress})`;\n            }\n          } else {\n            this.extraAddress = '';\n          }\n        }\n      }).open();\n    };\n    const goBack = () => {\n      window.history.back();\n    };\n    return {\n      name,\n      phoneNumber,\n      address,\n      extraAddress,\n      isValidateName,\n      isValidatePhoneNumber,\n      isFormValid,\n      submitForm,\n      daumPostcode,\n      goBack\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","useRouter","setup","name","phoneNumber","address","extraAddress","router","value","localStorage","getItem","isValidateName","nameRegex","test","isValidatePhoneNumber","phoneRegex","isFormValid","submitForm","setItem","console","log","push","daumPostcode","window","daum","Postcode","oncomplete","data","userSelectedType","roadAddress","jibunAddress","buildingName","apartment","open","goBack","history","back"],"sources":["/Users/kakao/Documents/balaan/src/components/secondStep.vue"],"sourcesContent":["<template>\n    <div>\n      <form @submit.prevent=\"submitForm\">\n        <div>\n          <label for=\"name\">이름</label>\n          <input type=\"text\" id=\"name\" v-model=\"name\" required>\n          <div v-if=\"!isValidateName && name\">\n            <p>2글자 이상의 한글 완성형, 또는 3글자 이상의 영문 알파벳이고 그 외 특수문자, 숫자, 공백은 허용하지 않습니다.</p>\n          </div>\n        </div>\n        <div>\n          <label for=\"phoneNumber\">연락처</label>\n          <input type=\"text\" id=\"phoneNumber\" v-model=\"phoneNumber\" required>\n          <div v-if=\"!isValidatePhoneNumber && phoneNumber\">\n            <p>0으로 시작하며 중간 3-4자리, 마지막 4자리의 형식이며 하이픈 또는 공백 허용합니다.</p>\n          </div>\n        </div>\n        <div>\n          <label for=\"phoneNumber\">주소</label>\n          <button @click=\"daumPostcode\">주소검색</button> <br>\n          <input type=\"text\" v-model=\"address\" readonly>\n          <input type=\"text\" v-model=\"extraAddress\">\n        </div>\n        <div>\n          <button @click=\"goBack\">이전</button>\n          <button :disabled=\"!isFormValid\" type=\"submit\">다음</button>\n        </div>\n      </form>\n    </div>\n  </template>\n  \n  <script>\n  import { ref, computed, onMounted } from 'vue';\n  import { useRouter } from 'vue-router';\n\n  export default {\n    setup() {\n      const name = ref('');\n      const phoneNumber = ref('');\n      const address = ref('');\n      const extraAddress = ref('');\n      const router = useRouter();\n\n  \n      onMounted(() => {\n        // 페이지가 로드될 때 로컬 스토리지에서 name, phoneNumber, address 셋팅\n        name.value = localStorage.getItem('savedName') || '';\n        phoneNumber.value = localStorage.getItem('savedPhoneNumber') || '';\n        address.value = localStorage.getItem('savedAddress') || '';\n        extraAddress.value = localStorage.getItem('savedExtraAddress') || '';\n      });\n  \n      const isValidateName = computed(() => {\n        const nameRegex = /^[가-힣]{2,}|[a-zA-Z]{3,}$/;\n        return nameRegex.test(name.value);\n      });\n  \n      const isValidatePhoneNumber = computed(() => {\n        const phoneRegex = /^0\\d{2,3}[ -]?\\d{3,4}[ -]?\\d{4}$/;\n        return phoneRegex.test(phoneNumber.value);\n      });\n  \n      const isFormValid = computed(() => {\n        return (\n          name.value &&\n          phoneNumber.value &&\n          address.value &&\n          extraAddress.value &&\n          isValidatePhoneNumber.value\n        );\n      });\n  \n      const submitForm = () => {\n        if (isValidateName.value && isValidatePhoneNumber.value && address.value && extraAddress.value) {\n          localStorage.setItem('savedName', name.value);\n          localStorage.setItem('savedPhoneNumber', phoneNumber.value);\n          localStorage.setItem('savedAddress', address.value);\n          localStorage.setItem('savedExtraAddress', extraAddress.value);\n  \n          console.log('폼이 제출되었습니다!');\n          // 다음 단계로 라우팅\n          router.push('/finalStep');\n        } else {\n          console.log('유효하지 않은 입력입니다.');\n        }\n      };\n  \n      const daumPostcode = () => {\n        new window.daum.Postcode({\n        oncomplete: (data) => {\n          if (this.extraAddress !== '') {\n            this.extraAddress = '';\n          }\n          if (data.userSelectedType === 'R') {\n            // 도로명 주소를 선택했을 경우\n            this.address = data.roadAddress;\n          } else {\n            // 지번 주소를 선택했을 경우\n            this.address = data.jibunAddress;\n          }\n          if (data.userSelectedType === 'R') {\n            // 건물명이 있을 경우\n            if (data.buildingName !== '' && data.apartment === 'Y') {\n              this.extraAddress +=\n                this.extraAddress !== ''\n                  ? `, ${data.buildingName}`\n                  : data.buildingName;\n            }\n            // 표시할 참고항목이 있을 경우\n            if (this.extraAddress !== '') {\n              this.extraAddress = `(${this.extraAddress})`;\n            }\n          } else {\n            this.extraAddress = '';\n          }\n        }\n        }).open();\n      };\n  \n      const goBack = () => {\n        window.history.back();\n      };\n  \n      return {\n        name,\n        phoneNumber,\n        address,\n        extraAddress,\n        isValidateName,\n        isValidatePhoneNumber,\n        isFormValid,\n        submitForm,\n        daumPostcode,\n        goBack,\n      };\n    },\n  };\n  </script>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}