{"ast":null,"code":"import loadScriptOnce from 'load-script-once';\nconst MapTypeId = {\n  \"ROADMAP\": 1,\n  \"NORMAL\": 1,\n  \"SKYVIEW\": 2,\n  \"HYBRID\": 3,\n  \"OVERLAY\": 4,\n  \"ROADVIEW\": 5,\n  \"TRAFFIC\": 6,\n  \"TERRAIN\": 7,\n  \"BICYCLE\": 8,\n  \"BICYCLE_HYBRID\": 9,\n  \"USE_DISTRICT\": 10\n};\nconst EVENTS = ['center_changed', 'zoom_start', 'zoom_changed', 'bounds_changed', 'click', 'dblclick', 'rightclick', 'mousemove', 'dragstart', 'drag', 'dragend', 'idle', 'tilesloaded', 'maptypeid_changed'];\nexport default {\n  name: \"VueDaumMap\",\n  props: {\n    appKey: {\n      type: String,\n      required: true\n    },\n    libraries: {\n      type: Array,\n      default: () => []\n    },\n    center: {\n      type: Object,\n      required: true\n    },\n    level: {\n      type: Number,\n      default: undefined\n    },\n    mapTypeId: {\n      type: Number,\n      default: undefined\n    },\n    draggable: {\n      type: Boolean,\n      default: undefined\n    },\n    scrollwheel: {\n      type: Boolean,\n      default: undefined\n    },\n    disableDoubleClick: {\n      type: Boolean,\n      default: undefined\n    },\n    disableDoubleClickZoom: {\n      type: Boolean,\n      default: undefined\n    },\n    projectionId: {\n      type: String,\n      default: undefined\n    },\n    tileAnimation: {\n      type: Boolean,\n      default: undefined\n    },\n    keyboardShortcuts: {\n      type: [Boolean, Object],\n      default: undefined\n    }\n  },\n  data: () => ({\n    map: null\n  }),\n  mounted() {\n    loadScriptOnce(`//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=${this.appKey}&libraries=${this.libraries.join(',')}`).then(() => {\n      daum.maps.load(() => {\n        this.render();\n        this.bindEvents();\n        this.$emit('load', this.map, daum);\n      });\n    }).catch(err => {\n      console.error(err);\n    });\n  },\n  watch: {\n    level() {\n      if (!this.map) {\n        return;\n      }\n      this.map.setLevel(this.level);\n    },\n    center: {\n      handler() {\n        if (!this.map) {\n          return;\n        }\n        this.map.setCenter(new daum.maps.LatLng(this.center.lat, this.center.lng));\n      },\n      deep: true\n    }\n  },\n  methods: {\n    render() {\n      const options = {\n        //지도를 생성할 때 필요한 기본 옵션\n        center: new daum.maps.LatLng(this.center.lat, this.center.lng),\n        //지도의 중심좌표.\n        level: this.level,\n        //지도의 레벨(확대, 축소 정도)\n        mapTypeId: this.mapTypeId,\n        //지도 타입\n        draggable: this.draggable,\n        scrollwheel: this.scrollwheel,\n        disableDoubleClick: this.disableDoubleClick,\n        disableDoubleClickZoom: this.disableDoubleClickZoom,\n        projectionId: this.projectionId,\n        tileAnimation: this.tileAnimation,\n        keyboardShortcuts: this.keyboardShortcuts\n      };\n      this.map = new daum.maps.Map(this.$el, options); //지도 생성 및 객체 리턴\n    },\n\n    bindEvents() {\n      const handlers = {\n        bounds_changed: this.onChange,\n        idle: this.onChange\n      };\n      for (let event of EVENTS) {\n        this.bindEvent(event, handlers[event]);\n      }\n    },\n    bindEvent(event, handler) {\n      daum.maps.event.addListener(this.map, event, (...args) => {\n        this.$emit(event, args);\n        if (typeof handler === 'function') {\n          handler();\n        }\n      });\n    },\n    onChange() {\n      const level = this.map.getLevel();\n      const latlng = this.map.getCenter();\n      this.$emit('update:level', level);\n      this.$emit('update:center', {\n        lat: latlng.getLat(),\n        lng: latlng.getLng()\n      });\n    }\n  },\n  MapTypeId: MapTypeId\n};","map":{"version":3,"names":["loadScriptOnce","MapTypeId","EVENTS","name","props","appKey","type","String","required","libraries","Array","default","center","Object","level","Number","undefined","mapTypeId","draggable","Boolean","scrollwheel","disableDoubleClick","disableDoubleClickZoom","projectionId","tileAnimation","keyboardShortcuts","data","map","mounted","join","then","daum","maps","load","render","bindEvents","$emit","catch","err","console","error","watch","setLevel","handler","setCenter","LatLng","lat","lng","deep","methods","options","Map","$el","handlers","bounds_changed","onChange","idle","event","bindEvent","addListener","args","getLevel","latlng","getCenter","getLat","getLng"],"sources":["/Users/kakao/Documents/balaan/node_modules/vue-daum-map/src/VueDaumMap.vue"],"sourcesContent":["<template>\n  <div></div>\n</template>\n\n<script>\n  import loadScriptOnce from 'load-script-once';\n\n  const MapTypeId = {\n    \"ROADMAP\": 1,\n    \"NORMAL\": 1,\n    \"SKYVIEW\": 2,\n    \"HYBRID\": 3,\n    \"OVERLAY\": 4,\n    \"ROADVIEW\": 5,\n    \"TRAFFIC\": 6,\n    \"TERRAIN\": 7,\n    \"BICYCLE\": 8,\n    \"BICYCLE_HYBRID\": 9,\n    \"USE_DISTRICT\": 10\n  };\n\n  const EVENTS = [\n    'center_changed',\n    'zoom_start',\n    'zoom_changed',\n    'bounds_changed',\n    'click',\n    'dblclick',\n    'rightclick',\n    'mousemove',\n    'dragstart',\n    'drag',\n    'dragend',\n    'idle',\n    'tilesloaded',\n    'maptypeid_changed'\n  ];\n\n  export default {\n    name: \"VueDaumMap\",\n    props: {\n      appKey: {\n        type: String,\n        required: true\n      },\n      libraries: {\n        type: Array,\n        default: () => []\n      },\n      center: {\n        type: Object,\n        required: true\n      },\n      level: {\n        type: Number,\n        default: undefined\n      },\n      mapTypeId: {\n        type: Number,\n        default: undefined\n      },\n      draggable: {\n        type: Boolean,\n        default: undefined\n      },\n      scrollwheel: {\n        type: Boolean,\n        default: undefined\n      },\n      disableDoubleClick: {\n        type: Boolean,\n        default: undefined\n      },\n      disableDoubleClickZoom: {\n        type: Boolean,\n        default: undefined\n      },\n      projectionId: {\n        type: String,\n        default: undefined\n      },\n      tileAnimation: {\n        type: Boolean,\n        default: undefined\n      },\n      keyboardShortcuts: {\n        type: [Boolean, Object],\n        default: undefined\n      }\n    },\n    data: () => ({\n      map: null\n    }),\n    mounted () {\n      loadScriptOnce(`//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=${this.appKey}&libraries=${this.libraries.join(',')}`)\n        .then(() => {\n          daum.maps.load(() => {\n            this.render();\n            this.bindEvents();\n            this.$emit('load', this.map, daum);\n          });\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    },\n    watch: {\n      level () {\n        if (!this.map) {\n          return;\n        }\n\n        this.map.setLevel(this.level);\n      },\n      center : {\n        handler () {\n          if (!this.map) {\n            return;\n          }\n\n          this.map.setCenter(new daum.maps.LatLng(this.center.lat, this.center.lng));\n        },\n        deep: true\n      }\n    },\n    methods: {\n      render () {\n        const options = { //지도를 생성할 때 필요한 기본 옵션\n          center: new daum.maps.LatLng(this.center.lat, this.center.lng), //지도의 중심좌표.\n          level: this.level, //지도의 레벨(확대, 축소 정도)\n          mapTypeId: this.mapTypeId, //지도 타입\n          draggable: this.draggable,\n          scrollwheel: this.scrollwheel,\n          disableDoubleClick: this.disableDoubleClick,\n          disableDoubleClickZoom: this.disableDoubleClickZoom,\n          projectionId: this.projectionId,\n          tileAnimation: this.tileAnimation,\n          keyboardShortcuts: this.keyboardShortcuts\n        };\n\n        this.map = new daum.maps.Map(this.$el, options); //지도 생성 및 객체 리턴\n      },\n      bindEvents () {\n        const handlers = {\n          bounds_changed: this.onChange,\n          idle: this.onChange\n        };\n\n        for (let event of EVENTS) {\n          this.bindEvent(event, handlers[event]);\n        }\n      },\n      bindEvent (event, handler) {\n        daum.maps.event.addListener(this.map, event, (...args) => {\n          this.$emit(event, args);\n\n          if (typeof handler === 'function') {\n            handler();\n          }\n        });\n      },\n      onChange () {\n        const level = this.map.getLevel();\n        const latlng = this.map.getCenter();\n\n        this.$emit('update:level', level);\n        this.$emit('update:center', {\n          lat: latlng.getLat(),\n          lng: latlng.getLng()\n        });\n      }\n    },\n    MapTypeId: MapTypeId\n  }\n</script>\n\n<style scoped>\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}